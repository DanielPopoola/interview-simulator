<!-- User's Answer Message -->
<div class="flex items-start space-x-3 justify-end">
    <div class="flex-1 bg-green-50 rounded-lg p-4 text-right">
        <p class="text-sm font-semibold text-green-900 mb-1">You</p>
        <p class="text-gray-800">{{ user_message.content }}</p>
    </div>
    <div class="flex-shrink-0 w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-semibold">
        U
    </div>
</div>

<!-- AI's Next Question (or completion message) -->
{% if ai_message %}
<div class="flex items-start space-x-3">
    <div class="flex-shrink-0 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold">
        AI
    </div>
    <div class="flex-1 bg-blue-50 rounded-lg p-4">
        <p class="text-sm font-semibold text-blue-900 mb-1">Interviewer</p>
        <p class="text-gray-800">{{ ai_message.content }}</p>
    </div>
</div>
{% endif %}

<!-- Update Progress Counter (using HTMX out-of-band swap) -->
{% if progress %}
<div id="progress-count" hx-swap-oob="true">
    {{ progress.question_count }}/{{ progress.max_questions }}
</div>

<div id="progress-bar" hx-swap-oob="true" 
     class="bg-blue-600 h-2 rounded-full transition-all duration-300">
</div>

<!-- Completion UI (only if complete) -->
{% if progress.is_complete %}
<div id="answer-form" hx-swap-oob="true">
    <div class="bg-green-50 border border-green-200 rounded-lg p-6 text-center">
        <p class="text-green-800 mb-4 text-lg font-semibold">
            ✓ Interview Complete! Ready to see your feedback?
        </p>
        <form action="/session/{{ session_id }}/complete" method="POST">
            <button type="submit" 
                    class="bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 font-semibold">
                View Feedback & Results →
            </button>
        </form>
    </div>
</div>
{% endif %}
{% endif %}